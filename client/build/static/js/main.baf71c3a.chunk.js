(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t,a){e.exports=a(138)},112:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),l=(a(112),a(113),a(7)),i=Object(n.createContext)(),u=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),o=a[0],c=a[1],u=Object(n.useState)(""),s=Object(l.a)(u,2),m=s[0],d=s[1],p=Object(n.useState)(""),g=Object(l.a)(p,2),h=g[0],f=g[1];return r.a.createElement(i.Provider,{value:{isAuthenticated:o,setIsAuthenticated:c,type:m,setType:d,username:h,setUsername:f}},e.children)},s=a(49),m=a(30),d=a.n(m);function p(e){var t=Object(n.useContext)(i),a=t.isAuthenticated,o=t.setIsAuthenticated,c=t.setType,l=t.setUsername;return Object(n.useEffect)((function(){d.a.get("https://acc-project.herokuapp.com/login").then((function(e){o(!0),c(e.data.user.type),l(e.data.user.username),console.log(e.data.user)})).catch((function(e){o(!1),c(""),l(""),console.log(e.response.data)}))}),[]),a?r.a.createElement("button",{onClick:function(){d.a.get("https://acc-project.herokuapp.com/logout").then((function(e){o(!1),window.location="/"}))}},"Logout "):r.a.createElement("button",{onClick:function(){window.location="https://acc-project.herokuapp.com/google"}},"Google Login ")}function g(e){return r.a.createElement("nav",null,e.items.map((function(e){return r.a.createElement(s.a,{to:e.split(" ")[0],key:e},r.a.createElement("li",null,e.charAt(0).toUpperCase()+e.slice(1)))})),r.a.createElement(p,null))}var h=a(38);function f(){return r.a.createElement("div",null,"Home")}function E(){return r.a.createElement("div",null,"About")}var b=a(25),v=a(62),y=a(16),w=a(195),k=a(183),j=a(181),D=a(182),O=a(185),S=a(189),C=a(188),x=a(184),A=a(186),B=a(187),T=a(139),M=a(197),H=a(20),U=Object(H.a)(),N=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],W=[];function P(){var e=Object(n.useState)(new Date),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(new Date),i=Object(l.a)(c,2),u=i[0],s=i[1],m=r.a.useState(!1),p=Object(l.a)(m,2),g=p[0],h=p[1],f=Object(n.useState)(!1),E=Object(l.a)(f,2),H=E[0],P=E[1],L=Object(n.useState)([]),I=Object(l.a)(L,2),F=I[0],K=I[1],R=r.a.useState(),G=Object(l.a)(R,2)[1],J=Object(n.useCallback)((function(){return G({})}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),W=[],P(!1),K([]),d.a.post("https://acc-project.herokuapp.com/api/book/check",{from:new Date(a.setUTCHours(0,0,0,0)),to:new Date(g?u.setUTCHours(0,0,0,0):a.setUTCHours(0,0,0,0))}).then((function(e){var t=function(e,t){for(var a=[],n=new Date(e);n<=t;)a.push(new Date(n).toString()),n.setDate(n.getDate()+1);return a}(a,g?new Date(u.setUTCHours(0,0,0,0)):new Date(a.setUTCHours(0,0,0,0))),n=e.data.bookedDates.map((function(e){return new Date(e).toString()}));t.map((function(e){return-1!==n.indexOf(e)?W.push({date:e,status:"Booked"}):W.push({date:e,status:"Available"}),null})),P(!0)})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(y.a,{utils:v.a},r.a.createElement(w.a,{margin:"normal",id:"date-picker-dialog",label:g?"From :":"Choose Date",format:"dd/MM/yyyy",value:a,minDate:Date.now(),minDateMessage:"Invalid Date",onChange:function(e){return o(e)},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(j.a,{in:g},r.a.createElement(w.a,{margin:"normal",id:"date-picker-dialog",label:"To",format:"dd/MM/yyyy",value:u,minDate:a,minDateMessage:"Invalid Date",onChange:function(e){return s(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(D.a,{control:r.a.createElement(k.a,{checked:g,onChange:function(){h((function(e){return!e}))}}),label:"More than one Date"}),r.a.createElement("input",{type:"submit",value:"Check Available"})),r.a.createElement(j.a,{in:H},r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(F),U.push({pathname:"/booking-form",state:{selectedDates:F}})}(e)}},r.a.createElement(x.a,{component:T.a},r.a.createElement(O.a,{"aria-label":"simple table"},r.a.createElement(A.a,null,r.a.createElement(B.a,null,r.a.createElement(C.a,null,"Date"),r.a.createElement(C.a,{align:"right"},"Day"),r.a.createElement(C.a,{align:"right"},"Availability"),r.a.createElement(C.a,{align:"right"},"Select"))),r.a.createElement(S.a,null,W.map((function(e,t){return r.a.createElement(B.a,{key:t},r.a.createElement(C.a,{align:"left"},function(e){var t=new Date(Date.parse(e)),a=String(t.getMonth()+1).padStart(2,"0");return String(t.getDate()).padStart(2,"0")+"/"+a+"/"+t.getFullYear()}(e.date)),r.a.createElement(C.a,{align:"right"},N[new Date(Date.parse(e.date)).getDay()]),r.a.createElement(C.a,{align:"right"},e.status),"Available"===e.status?r.a.createElement(C.a,{align:"right"},r.a.createElement(D.a,{control:r.a.createElement(M.a,{color:"primary",value:e.date,onChange:function(e){var t=F.indexOf(e.target.value);e.target.checked?K([].concat(Object(b.a)(F),[e.target.value])):-1!==t&&(K((function(e){return F.splice(t,1),F})),J())}}),label:""})):r.a.createElement(C.a,{align:"right"},r.a.createElement(D.a,{control:r.a.createElement(M.a,{color:"primary",disabled:!0}),label:""})))}))))),r.a.createElement("input",{type:"submit",value:"Book ",disabled:0===F.length}))))}function L(){return r.a.createElement("div",null,"Contact us")}function I(){return r.a.createElement("div",null,"Gallery")}var F=a(9),K=a(84),R=a(3),G=a(174),J=a(18),Y=a(198),$=a(190),q=a(191),z=a(179),Q=a(180),V=a(52),X=a(192),Z=a(141),_=a(85),ee=a.n(_),te=a(86),ae=a.n(te),ne=a(87),re=a.n(ne),oe=a(193),ce=a(194);function le(){var e=r.a.useState(!1),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(new Date),i=Object(l.a)(c,2),u=i[0],s=i[1],m=Object(n.useState)(a?new Date:u),p=Object(l.a)(m,2),g=p[0],h=p[1];return r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),d.a.post("https://acc-project.herokuapp.com/api/book",{from:new Date(u.setUTCHours(0,0,0,0)),to:new Date(a?g.setUTCHours(0,0,0,0):u.setUTCHours(0,0,0,0))}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}))}(e)}},r.a.createElement(y.a,{utils:v.a},r.a.createElement(w.a,{margin:"normal",id:"date-picker-dialog",label:a?"From :":"Choose Date",format:"dd/MM/yyyy",value:u,onChange:function(e){return s(e)},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(j.a,{in:a},r.a.createElement(w.a,{margin:"normal",id:"date-picker-dialog",label:"To",format:"dd/MM/yyyy",value:g,onChange:function(e){return h(e)},KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(D.a,{control:r.a.createElement(k.a,{checked:a,onChange:function(){o((function(e){return!e}))}}),label:"More than one Date"}),r.a.createElement("input",{type:"submit",value:"submit"}))}a(136);var ie=Object(G.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(K.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));function ue(){var e=Object(n.useContext)(i).setIsAuthenticated,t=ie(),a=Object(J.a)(),o=r.a.useState(!1),c=Object(l.a)(o,2),u=c[0],m=c[1],p=r.a.useState("Dashboard"),g=Object(l.a)(p,2),h=g[0],f=g[1],E=Object(n.useState)(r.a.createElement(le,null)),b=Object(l.a)(E,2),v=b[0],y=b[1],w=function(){m(!1)};return r.a.createElement("div",{className:t.root},r.a.createElement($.a,null),r.a.createElement(q.a,{position:"fixed",className:Object(R.a)(t.appBar,Object(F.a)({},t.appBarShift,u))},r.a.createElement(z.a,null,r.a.createElement(Z.a,{color:"inherit","aria-label":"open drawer",onClick:function(){m(!0)},edge:"start",className:Object(R.a)(t.menuButton,u&&t.hide)},r.a.createElement(ee.a,null)),r.a.createElement(V.a,{variant:"h6",noWrap:!0},h))),r.a.createElement(Y.a,{className:t.drawer,variant:"persistent",anchor:"left",open:u,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(Z.a,{onClick:w},"ltr"===a.direction?r.a.createElement(ae.a,null):r.a.createElement(re.a,null))),r.a.createElement(X.a,null),r.a.createElement(Q.a,null,r.a.createElement(oe.a,{button:!0,onClick:function(){}},r.a.createElement(s.a,{to:"/",className:"link",style:{textDecoration:"none"}},r.a.createElement(ce.a,{primary:"Home"}))),r.a.createElement(oe.a,{button:!0,onClick:function(){f("Book Hall"),y(r.a.createElement(le,null)),w()}},r.a.createElement(ce.a,{primary:"Book hall"}))),r.a.createElement(X.a,null),r.a.createElement(Q.a,null,r.a.createElement(oe.a,{button:!0,onClick:function(){d.a.get("https://acc-project.herokuapp.com/logout").then((function(t){e(!1),window.location="/"}))}},r.a.createElement(ce.a,{primary:"Logout"})))),r.a.createElement("main",{className:Object(R.a)(t.content,Object(F.a)({},t.contentShift,u))},r.a.createElement("div",{className:t.drawerHeader}),v))}function se(e){var t=Object(n.useState)(e.location.state.selectedDates),a=Object(l.a)(t,1)[0];return r.a.createElement("ul",null,a.map((function(e,t){new Date(Date.parse(e));return console.log(function(e){var t=new Date(Date.parse(e)),a=String(t.getMonth()+1).padStart(2,"0");return String(t.getDate()).padStart(2,"0")+"/"+a+"/"+t.getFullYear()}(e)),r.a.createElement("li",{key:t},"Date ",t)})))}var me=function(){var e=Object(n.useContext)(i).isAuthenticated,t=e?r.a.createElement(g,{items:["home","about us","contact us","gallery","booking","dashboard"]}):r.a.createElement(g,{items:["home","about us","contact us","gallery","booking"]});return e?r.a.createElement(h.b,{history:U},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/"},t,r.a.createElement(f,null)),r.a.createElement(h.a,{exact:!0,path:"/home"},t,r.a.createElement(f,null)),r.a.createElement(h.a,{exact:!0,path:"/about"},t,r.a.createElement(E,null)),r.a.createElement(h.a,{exact:!0,path:"/booking"},t,r.a.createElement(P,null)),r.a.createElement(h.a,{exact:!0,path:"/contact"},t,r.a.createElement(L,null)),r.a.createElement(h.a,{exact:!0,path:"/gallery"},t,r.a.createElement(I,null)),r.a.createElement(h.a,{exact:!0,path:"/booking-form",component:se}),r.a.createElement(h.a,{exact:!0,path:"/dashboard",component:ue}))):r.a.createElement(h.b,{history:U},t,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/"},r.a.createElement(f,null)),r.a.createElement(h.a,{exact:!0,path:"/home"},r.a.createElement(f,null)),r.a.createElement(h.a,{exact:!0,path:"/about"},r.a.createElement(E,null)),r.a.createElement(h.a,{exact:!0,path:"/booking"},r.a.createElement(P,null)),r.a.createElement(h.a,{exact:!0,path:"/contact"},r.a.createElement(L,null)),r.a.createElement(h.a,{exact:!0,path:"/gallery"},r.a.createElement(I,null)),r.a.createElement(h.a,{exact:!0,path:"/booking-form",component:se})))},de=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(u,null,r.a.createElement(me,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");de?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):pe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):pe(t,e)}))}}()}},[[107,1,2]]]);
//# sourceMappingURL=main.baf71c3a.chunk.js.map